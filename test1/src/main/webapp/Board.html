<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시판</title>
    <link rel="stylesheet" href="./css/Board.css">
</head>
<body>
    <!-- 헤더 영역 -->
    <div class="header">
        <div class="Frame1">
            <div class="categories">
                <div class="category">국내창작</div>
                <div class="category">라이센스</div>
                <div class="category">게시판</div>
            </div>
            <div class="logo">CURTAIN CALL GUIDE</div>
            <div class="Buttons">
                <div class="BtnSignUp"><div class="SignUp">회원가입</div></div>
                <div class="BtnLogin"><div class="Login">로그인</div></div>
                <img src="./img/icon_my.png" class="icon_my" alt="My Icon">
            </div>
        </div>
    </div>

    <!-- 게시판 영역 -->
    <div class="container">
        <h1>게시판</h1>

        <div class="btn_posting">
            <input type="button" onclick="location.href='BoardWrite.jsp'" value="글쓰기 ✏️" class="btn_list">
        </div>

        <table class="board_list">
            <thead>
                <tr>
                    <th>번호</th>
                    <th>제목</th>
                    <th>작성자</th>
                    <th>작성일</th>
                    <th>조회수</th>
                    <th>좋아요</th>
                </tr>
            </thead>
            <tbody id="boardTableBody">
                <!-- JavaScript로 동적 데이터 삽입 -->
            </tbody>
        </table>

        <!-- 페이지 번호 영역 -->
        <div class="paginate_area">
            <div class="ArticlePaginate" id="pagination">
                <!-- JavaScript로 페이지 번호 추가 -->
            </div>
        </div>
    </div>

    <script>
        // 예제 데이터
        const boardData = Array.from({ length: 50 }, (_, i) => ({
            postIdx: i + 1,
            postTitle: `게시글 제목 ${i + 1}`,
            userId: `작성자 ${i + 1}`,
            createdAt: `2025-01-${(i % 30) + 1}`,
            postViews: Math.floor(Math.random() * 100),
            postLikes: Math.floor(Math.random() * 50),
        }));

        const itemsPerPage = 10; // 한 페이지당 게시물 수
        const paginationElement = document.getElementById("pagination");
        const tableBodyElement = document.getElementById("boardTableBody");

        // 페이지 데이터 렌더링
        function renderPageData(page) {
            tableBodyElement.innerHTML = ""; // 기존 데이터 삭제
            const start = (page - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageData = boardData.slice(start, end);

            pageData.forEach(item => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${item.postIdx}</td>
                    <td><a href="BoardDetailCon?postIdx=${item.postIdx}">${item.postTitle}</a></td>
                    <td>${item.userId}</td>
                    <td>${item.createdAt}</td>
                    <td>${item.postViews}</td>
                    <td>${item.postLikes}</td>
                `;
                tableBodyElement.appendChild(row);
            });
        }

        // 페이지 번호 렌더링
        function renderPagination() {
            const totalPages = Math.ceil(boardData.length / itemsPerPage);
            paginationElement.innerHTML = ""; // 기존 페이지 번호 삭제

            for (let i = 1; i <= totalPages; i++) {
                const button = document.createElement("button");
                button.className = "btn number";
                button.textContent = i;
                button.addEventListener("click", () => renderPageData(i));
                paginationElement.appendChild(button);
            }
        }

        // 초기 렌더링
        renderPagination();
        renderPageData(1);
    </script>
</body>
</html>
